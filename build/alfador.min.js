!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.alfador=t()}}(function(){return function t(a,i,s){function h(n,r){if(!i[n]){if(!a[n]){var e="function"==typeof require&&require;if(!r&&e)return e(n,!0);if(d)return d(n,!0);var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}var u=i[n]={exports:{}};a[n][0].call(u.exports,function(t){var i=a[n][1][t];return h(i?i:t)},u,u.exports,t,a,i,s)}return i[n].exports}for(var d="function"==typeof require&&require,n=0;n<s.length;n++)h(s[n]);return h}({1:[function(t,a,i){!function(){"use strict";a.exports=1e-11}()},{}],2:[function(t,a,i){!function(){"use strict";function i(t){t=t||[1,0,0,0,1,0,0,0,1],t instanceof Array?this.data=t:(this.data=new Array(16),this.data[0]=t.data[0],this.data[1]=t.data[1],this.data[2]=t.data[2],this.data[3]=t.data[3],this.data[4]=t.data[4],this.data[5]=t.data[5],this.data[6]=t.data[6],this.data[7]=t.data[7],this.data[8]=t.data[8])}var s=t("./Vec3"),h=t("./Epsilon");i.prototype.row=function(t,a){return a?(this.data[0+t]=a[0]||a.x,this.data[3+t]=a[1]||a.y,this.data[6+t]=a[2]||a.z,this):new s(this.data[0+t],this.data[3+t],this.data[6+t])},i.prototype.col=function(t,a){return a?(this.data[0+3*t]=a[0]||a.x,this.data[1+3*t]=a[1]||a.y,this.data[2+3*t]=a[2]||a.z,this):new s(this.data[0+3*t],this.data[1+3*t],this.data[2+3*t])},i.identity=function(){return new i},i.scale=function(t){return new i("number"==typeof t?[t,0,0,0,t,0,0,0,t]:t instanceof Array?[t[0],0,0,0,t[1],0,0,0,t[2]]:[t.x,0,0,0,t.y,0,0,0,t.z])},i.rotationDegrees=function(t,a){return this.rotationRadians(t*Math.PI/180,a)},i.rotationRadians=function(t,a){if(a instanceof Array&&(a=new s(a)),0===a.lengthSquared())return this.identity();var h=a.normalize(),d=h.x,n=h.y,r=h.z,e=t>0?t%(2*Math.PI):t%(-2*Math.PI),o=Math.sin(e),u=Math.cos(e),c=d*d,y=n*n,f=r*r,p=d*n,l=n*r,w=r*d,x=d*o,z=n*o,M=r*o,m=1-u;return new i([m*c+u,m*p+M,m*w-z,m*p-M,m*y+u,m*l+x,m*w+z,m*l-x,m*f+u])},i.rotationFromTo=function(t,a){var d,n,r,e,o,u,c,y,f,p,l,w=new s(t).normalize(),x=new s(a).normalize(),z=w.dot(x),M=Math.abs(z);return M>1-h?(e=Math.abs(w.x),o=Math.abs(w.y),u=Math.abs(w.z),d=o>e?u>e?new s(1,0,0):new s(0,0,1):u>o?new s(0,1,0):new s(0,0,1),n=d.sub(w),r=d.sub(x),f=2/n.dot(n),p=2/r.dot(r),l=f*p*n.dot(r),new i([-f*n.x*n.x-p*r.x*r.x+l*r.x*n.x+1,-f*n.y*n.x-p*r.y*r.x+l*r.y*n.x,-f*n.z*n.x-p*r.z*r.x+l*r.z*n.x,-f*n.x*n.y-p*r.x*r.y+l*r.x*n.y,-f*n.y*n.y-p*r.y*r.y+l*r.y*n.y+1,-f*n.z*n.y-p*r.z*r.y+l*r.z*n.y,-f*n.x*n.z-p*r.x*r.z+l*r.x*n.z,-f*n.y*n.z-p*r.y*r.z+l*r.y*n.z,-f*n.z*n.z-p*r.z*r.z+l*r.z*n.z+1])):(r=w.cross(x),n=1/(1+z),c=n*r.x,y=n*r.z,f=c*r.y,p=c*r.z,l=y*r.y,new i([z+c*r.x,f+r.z,p-r.y,f-r.z,z+n*r.y*r.y,l+r.x,p+r.y,l-r.x,z+y*r.z]))},i.prototype.addMat33=function(t){return t=t instanceof Array?t:t.data,new i([this.data[0]+t[0],this.data[1]+t[1],this.data[2]+t[2],this.data[3]+t[3],this.data[4]+t[4],this.data[5]+t[5],this.data[6]+t[6],this.data[7]+t[7],this.data[8]+t[8]])},i.prototype.addMat44=function(t){return t=t instanceof Array?t:t.data,new i([this.data[0]+t[0],this.data[1]+t[1],this.data[2]+t[2],this.data[3]+t[4],this.data[4]+t[5],this.data[5]+t[6],this.data[6]+t[8],this.data[7]+t[9],this.data[8]+t[10]])},i.prototype.subMat33=function(t){return t=t instanceof Array?t:t.data,new i([this.data[0]-t[0],this.data[1]-t[1],this.data[2]-t[2],this.data[3]-t[3],this.data[4]-t[4],this.data[5]-t[5],this.data[6]-t[6],this.data[7]-t[7],this.data[8]-t[8]])},i.prototype.subMat44=function(t){return t=t instanceof Array?t:t.data,new i([this.data[0]-t[0],this.data[1]-t[1],this.data[2]-t[2],this.data[3]-t[4],this.data[4]-t[5],this.data[5]-t[6],this.data[6]-t[8],this.data[7]-t[9],this.data[8]-t[10]])},i.prototype.multVec3=function(t){return t instanceof Array?new s(this.data[0]*t[0]+this.data[3]*t[1]+this.data[6]*t[2],this.data[1]*t[0]+this.data[4]*t[1]+this.data[7]*t[2],this.data[2]*t[0]+this.data[5]*t[1]+this.data[8]*t[2]):new s(this.data[0]*t.x+this.data[3]*t.y+this.data[6]*t.z,this.data[1]*t.x+this.data[4]*t.y+this.data[7]*t.z,this.data[2]*t.x+this.data[5]*t.y+this.data[8]*t.z)},i.prototype.multScalar=function(t){return new i([this.data[0]*t,this.data[1]*t,this.data[2]*t,this.data[3]*t,this.data[4]*t,this.data[5]*t,this.data[6]*t,this.data[7]*t,this.data[8]*t])},i.prototype.multMat33=function(t){return t=t instanceof Array?t:t.data,new i([this.data[0]*t[0]+this.data[3]*t[1]+this.data[6]*t[2],this.data[1]*t[0]+this.data[4]*t[1]+this.data[7]*t[2],this.data[2]*t[0]+this.data[5]*t[1]+this.data[8]*t[2],this.data[0]*t[3]+this.data[3]*t[4]+this.data[6]*t[5],this.data[1]*t[3]+this.data[4]*t[4]+this.data[7]*t[5],this.data[2]*t[3]+this.data[5]*t[4]+this.data[8]*t[5],this.data[0]*t[6]+this.data[3]*t[7]+this.data[6]*t[8],this.data[1]*t[6]+this.data[4]*t[7]+this.data[7]*t[8],this.data[2]*t[6]+this.data[5]*t[7]+this.data[8]*t[8]])},i.prototype.multMat44=function(t){return t=t instanceof Array?t:t.data,new i([this.data[0]*t[0]+this.data[3]*t[1]+this.data[6]*t[2],this.data[1]*t[0]+this.data[4]*t[1]+this.data[7]*t[2],this.data[2]*t[0]+this.data[5]*t[1]+this.data[8]*t[2],this.data[0]*t[4]+this.data[3]*t[5]+this.data[6]*t[6],this.data[1]*t[4]+this.data[4]*t[5]+this.data[7]*t[6],this.data[2]*t[4]+this.data[5]*t[5]+this.data[8]*t[6],this.data[0]*t[8]+this.data[3]*t[9]+this.data[6]*t[10],this.data[1]*t[8]+this.data[4]*t[9]+this.data[7]*t[10],this.data[2]*t[8]+this.data[5]*t[9]+this.data[8]*t[10]])},i.prototype.divScalar=function(t){return new i([this.data[0]/t,this.data[1]/t,this.data[2]/t,this.data[3]/t,this.data[4]/t,this.data[5]/t,this.data[6]/t,this.data[7]/t,this.data[8]/t])},i.prototype.equals=function(t,a){return a=void 0===a?0:a,t=t instanceof Array?t:t.data,(this.data[0]===t[0]||Math.abs(this.data[0]-t[0])<=a)&&(this.data[1]===t[1]||Math.abs(this.data[1]-t[1])<=a)&&(this.data[2]===t[2]||Math.abs(this.data[2]-t[2])<=a)&&(this.data[3]===t[3]||Math.abs(this.data[3]-t[3])<=a)&&(this.data[4]===t[4]||Math.abs(this.data[4]-t[4])<=a)&&(this.data[5]===t[5]||Math.abs(this.data[5]-t[5])<=a)&&(this.data[6]===t[6]||Math.abs(this.data[6]-t[6])<=a)&&(this.data[7]===t[7]||Math.abs(this.data[7]-t[7])<=a)&&(this.data[8]===t[8]||Math.abs(this.data[8]-t[8])<=a)},i.prototype.transpose=function(){return new i([this.data[0],this.data[3],this.data[6],this.data[1],this.data[4],this.data[7],this.data[2],this.data[5],this.data[8]])},i.prototype.inverse=function(){var t=new i([this.data[4]*this.data[8]-this.data[7]*this.data[5],-this.data[1]*this.data[8]+this.data[7]*this.data[2],this.data[1]*this.data[5]-this.data[4]*this.data[2],-this.data[3]*this.data[8]+this.data[6]*this.data[5],this.data[0]*this.data[8]-this.data[6]*this.data[2],-this.data[0]*this.data[5]+this.data[3]*this.data[2],this.data[3]*this.data[7]-this.data[6]*this.data[4],-this.data[0]*this.data[7]+this.data[6]*this.data[1],this.data[0]*this.data[4]-this.data[3]*this.data[1]]),a=this.data[0]*t.data[0]+this.data[1]*t.data[3]+this.data[2]*t.data[6];return t.multScalar(1/a)},i.prototype.decompose=function(){var t=this.col(0),a=this.col(1),i=this.col(2);return{left:t.normalize(),up:a.normalize(),forward:i.normalize(),scale:new s(t.length(),a.length(),i.length())}},i.random=function(){var t=i.rotationRadians(360*Math.random(),s.random()),a=i.scale(10*Math.random());return t.multMat33(a)},i.prototype.toString=function(){return this.data[0]+", "+this.data[3]+", "+this.data[6]+",\n"+this.data[1]+", "+this.data[4]+", "+this.data[7]+",\n"+this.data[2]+", "+this.data[5]+", "+this.data[8]},i.prototype.toArray=function(){return this.data.slice(0)},a.exports=i}()},{"./Epsilon":1,"./Vec3":8}],3:[function(t,a,i){!function(){"use strict";function i(t){t=t||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t instanceof Array?this.data=t:(this.data=new Array(16),this.data[0]=t.data[0],this.data[1]=t.data[1],this.data[2]=t.data[2],this.data[3]=t.data[3],this.data[4]=t.data[4],this.data[5]=t.data[5],this.data[6]=t.data[6],this.data[7]=t.data[7],this.data[8]=t.data[8],this.data[9]=t.data[9],this.data[10]=t.data[10],this.data[11]=t.data[11],this.data[12]=t.data[12],this.data[13]=t.data[13],this.data[14]=t.data[14],this.data[15]=t.data[15])}var s=t("./Vec3"),h=t("./Vec4"),d=t("./Epsilon");i.prototype.row=function(t,a){return a?(this.data[0+t]=a[0]||a.x,this.data[4+t]=a[1]||a.y,this.data[8+t]=a[2]||a.z,this.data[12+t]=a[3]||a.w,this):new h(this.data[0+t],this.data[4+t],this.data[8+t],this.data[12+t])},i.prototype.col=function(t,a){return a?(this.data[0+4*t]=a[0]||a.x,this.data[1+4*t]=a[1]||a.y,this.data[2+4*t]=a[2]||a.z,this.data[3+4*t]=a[3]||a.w,this):new h(this.data[0+4*t],this.data[1+4*t],this.data[2+4*t],this.data[3+4*t])},i.identity=function(){return new i},i.scale=function(t){return new i("number"==typeof t?[t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1]:t instanceof Array?[t[0],0,0,0,0,t[1],0,0,0,0,t[2],0,0,0,0,1]:[t.x,0,0,0,0,t.y,0,0,0,0,t.z,0,0,0,0,1])},i.translation=function(t){return new i(t instanceof Array?[1,0,0,0,0,1,0,0,0,0,1,0,t[0],t[1],t[2],1]:[1,0,0,0,0,1,0,0,0,0,1,0,t.x,t.y,t.z,1])},i.rotationDegrees=function(t,a){return this.rotationRadians(t*Math.PI/180,a)},i.rotationRadians=function(t,a){if(a instanceof Array&&(a=new s(a)),0===a.lengthSquared())return this.identity();var h=a.normalize(),d=h.x,n=h.y,r=h.z,e=t>0?t%(2*Math.PI):t%(-2*Math.PI),o=Math.sin(e),u=Math.cos(e),c=d*d,y=n*n,f=r*r,p=d*n,l=n*r,w=r*d,x=d*o,z=n*o,M=r*o,m=1-u;return new i([m*c+u,m*p+M,m*w-z,0,m*p-M,m*y+u,m*l+x,0,m*w+z,m*l-x,m*f+u,0,0,0,0,1])},i.rotationFromTo=function(t,a){var h,n,r,e,o,u,c,y,f,p,l,w=new s(t).normalize(),x=new s(a).normalize(),z=w.dot(x),M=Math.abs(z);return M>1-d?(e=Math.abs(w.x),o=Math.abs(w.y),u=Math.abs(w.z),h=o>e?u>e?new s(1,0,0):new s(0,0,1):u>o?new s(0,1,0):new s(0,0,1),n=h.sub(w),r=h.sub(x),f=2/n.dot(n),p=2/r.dot(r),l=f*p*n.dot(r),new i([-f*n.x*n.x-p*r.x*r.x+l*r.x*n.x+1,-f*n.y*n.x-p*r.y*r.x+l*r.y*n.x,-f*n.z*n.x-p*r.z*r.x+l*r.z*n.x,0,-f*n.x*n.y-p*r.x*r.y+l*r.x*n.y,-f*n.y*n.y-p*r.y*r.y+l*r.y*n.y+1,-f*n.z*n.y-p*r.z*r.y+l*r.z*n.y,1,-f*n.x*n.z-p*r.x*r.z+l*r.x*n.z,-f*n.y*n.z-p*r.y*r.z+l*r.y*n.z,-f*n.z*n.z-p*r.z*r.z+l*r.z*n.z+1,0,0,0,0,1])):(r=w.cross(x),n=1/(1+z),c=n*r.x,y=n*r.z,f=c*r.y,p=c*r.z,l=y*r.y,new i([z+c*r.x,f+r.z,p-r.y,0,f-r.z,z+n*r.y*r.y,l+r.x,0,p+r.y,l-r.x,z+y*r.z,0,0,0,0,1]))},i.prototype.addMat33=function(t){return t=t instanceof Array?t:t.data,new i([this.data[0]+t[0],this.data[1]+t[1],this.data[2]+t[2],this.data[3],this.data[4]+t[3],this.data[5]+t[4],this.data[6]+t[5],this.data[7],this.data[8]+t[6],this.data[9]+t[7],this.data[10]+t[8],this.data[11],this.data[12],this.data[13],this.data[14],this.data[15]])},i.prototype.addMat44=function(t){return t=t instanceof Array?t:t.data,new i([this.data[0]+t[0],this.data[1]+t[1],this.data[2]+t[2],this.data[3]+t[3],this.data[4]+t[4],this.data[5]+t[5],this.data[6]+t[6],this.data[7]+t[7],this.data[8]+t[8],this.data[9]+t[9],this.data[10]+t[10],this.data[11]+t[11],this.data[12]+t[12],this.data[13]+t[13],this.data[14]+t[14],this.data[15]+t[15]])},i.prototype.subMat33=function(t){return t=t instanceof Array?t:t.data,new i([this.data[0]-t[0],this.data[1]-t[1],this.data[2]-t[2],this.data[3],this.data[4]-t[3],this.data[5]-t[4],this.data[6]-t[5],this.data[7],this.data[8]-t[6],this.data[9]-t[7],this.data[10]-t[8],this.data[11],this.data[12],this.data[13],this.data[14],this.data[15]])},i.prototype.subMat44=function(t){return t=t instanceof Array?t:t.data,new i([this.data[0]-t[0],this.data[1]-t[1],this.data[2]-t[2],this.data[3]-t[3],this.data[4]-t[4],this.data[5]-t[5],this.data[6]-t[6],this.data[7]-t[7],this.data[8]-t[8],this.data[9]-t[9],this.data[10]-t[10],this.data[11]-t[11],this.data[12]-t[12],this.data[13]-t[13],this.data[14]-t[14],this.data[15]-t[15]])},i.prototype.multVec3=function(t){return t instanceof Array?new s(this.data[0]*t[0]+this.data[4]*t[1]+this.data[8]*t[2]+this.data[12],this.data[1]*t[0]+this.data[5]*t[1]+this.data[9]*t[2]+this.data[13],this.data[2]*t[0]+this.data[6]*t[1]+this.data[10]*t[2]+this.data[14]):new s(this.data[0]*t.x+this.data[4]*t.y+this.data[8]*t.z+this.data[12],this.data[1]*t.x+this.data[5]*t.y+this.data[9]*t.z+this.data[13],this.data[2]*t.x+this.data[6]*t.y+this.data[10]*t.z+this.data[14])},i.prototype.multVec4=function(t){return t instanceof Array?new h(this.data[0]*t[0]+this.data[4]*t[1]+this.data[8]*t[2]+this.data[12]*t[3],this.data[1]*t[0]+this.data[5]*t[1]+this.data[9]*t[2]+this.data[13]*t[3],this.data[2]*t[0]+this.data[6]*t[1]+this.data[10]*t[2]+this.data[14]*t[3],this.data[3]*t[0]+this.data[7]*t[1]+this.data[11]*t[2]+this.data[15]*t[3]):new h(this.data[0]*t.x+this.data[4]*t.y+this.data[8]*t.z+this.data[12]*t.w,this.data[1]*t.x+this.data[5]*t.y+this.data[9]*t.z+this.data[13]*t.w,this.data[2]*t.x+this.data[6]*t.y+this.data[10]*t.z+this.data[14]*t.w,this.data[3]*t.x+this.data[7]*t.y+this.data[11]*t.z+this.data[15]*t.w)},i.prototype.multScalar=function(t){return new i([this.data[0]*t,this.data[1]*t,this.data[2]*t,this.data[3]*t,this.data[4]*t,this.data[5]*t,this.data[6]*t,this.data[7]*t,this.data[8]*t,this.data[9]*t,this.data[10]*t,this.data[11]*t,this.data[12]*t,this.data[13]*t,this.data[14]*t,this.data[15]*t])},i.prototype.multMat33=function(t){return t=t instanceof Array?t:t.data,new i([this.data[0]*t[0]+this.data[4]*t[1]+this.data[8]*t[2],this.data[1]*t[0]+this.data[5]*t[1]+this.data[9]*t[2],this.data[2]*t[0]+this.data[6]*t[1]+this.data[10]*t[2],this.data[3]*t[0]+this.data[7]*t[1]+this.data[11]*t[2],this.data[0]*t[3]+this.data[4]*t[4]+this.data[8]*t[5],this.data[1]*t[3]+this.data[5]*t[4]+this.data[9]*t[5],this.data[2]*t[3]+this.data[6]*t[4]+this.data[10]*t[5],this.data[3]*t[3]+this.data[7]*t[4]+this.data[11]*t[5],this.data[0]*t[6]+this.data[4]*t[7]+this.data[8]*t[8],this.data[1]*t[6]+this.data[5]*t[7]+this.data[9]*t[8],this.data[2]*t[6]+this.data[6]*t[7]+this.data[10]*t[8],this.data[3]*t[6]+this.data[7]*t[7]+this.data[11]*t[8],this.data[12],this.data[13],this.data[14],this.data[15]])},i.prototype.multMat44=function(t){return t=t instanceof Array?t:t.data,new i([this.data[0]*t[0]+this.data[4]*t[1]+this.data[8]*t[2]+this.data[12]*t[3],this.data[1]*t[0]+this.data[5]*t[1]+this.data[9]*t[2]+this.data[13]*t[3],this.data[2]*t[0]+this.data[6]*t[1]+this.data[10]*t[2]+this.data[14]*t[3],this.data[3]*t[0]+this.data[7]*t[1]+this.data[11]*t[2]+this.data[15]*t[3],this.data[0]*t[4]+this.data[4]*t[5]+this.data[8]*t[6]+this.data[12]*t[7],this.data[1]*t[4]+this.data[5]*t[5]+this.data[9]*t[6]+this.data[13]*t[7],this.data[2]*t[4]+this.data[6]*t[5]+this.data[10]*t[6]+this.data[14]*t[7],this.data[3]*t[4]+this.data[7]*t[5]+this.data[11]*t[6]+this.data[15]*t[7],this.data[0]*t[8]+this.data[4]*t[9]+this.data[8]*t[10]+this.data[12]*t[11],this.data[1]*t[8]+this.data[5]*t[9]+this.data[9]*t[10]+this.data[13]*t[11],this.data[2]*t[8]+this.data[6]*t[9]+this.data[10]*t[10]+this.data[14]*t[11],this.data[3]*t[8]+this.data[7]*t[9]+this.data[11]*t[10]+this.data[15]*t[11],this.data[0]*t[12]+this.data[4]*t[13]+this.data[8]*t[14]+this.data[12]*t[15],this.data[1]*t[12]+this.data[5]*t[13]+this.data[9]*t[14]+this.data[13]*t[15],this.data[2]*t[12]+this.data[6]*t[13]+this.data[10]*t[14]+this.data[14]*t[15],this.data[3]*t[12]+this.data[7]*t[13]+this.data[11]*t[14]+this.data[15]*t[15]])},i.prototype.divScalar=function(t){return new i([this.data[0]/t,this.data[1]/t,this.data[2]/t,this.data[3]/t,this.data[4]/t,this.data[5]/t,this.data[6]/t,this.data[7]/t,this.data[8]/t,this.data[9]/t,this.data[10]/t,this.data[11]/t,this.data[12]/t,this.data[13]/t,this.data[14]/t,this.data[15]/t])},i.prototype.equals=function(t,a){return a=void 0===a?0:a,t=t instanceof Array?t:t.data,(this.data[0]===t[0]||Math.abs(this.data[0]-t[0])<=a)&&(this.data[1]===t[1]||Math.abs(this.data[1]-t[1])<=a)&&(this.data[2]===t[2]||Math.abs(this.data[2]-t[2])<=a)&&(this.data[3]===t[3]||Math.abs(this.data[3]-t[3])<=a)&&(this.data[4]===t[4]||Math.abs(this.data[4]-t[4])<=a)&&(this.data[5]===t[5]||Math.abs(this.data[5]-t[5])<=a)&&(this.data[6]===t[6]||Math.abs(this.data[6]-t[6])<=a)&&(this.data[7]===t[7]||Math.abs(this.data[7]-t[7])<=a)&&(this.data[8]===t[8]||Math.abs(this.data[8]-t[8])<=a)&&(this.data[9]===t[9]||Math.abs(this.data[9]-t[9])<=a)&&(this.data[10]===t[10]||Math.abs(this.data[10]-t[10])<=a)&&(this.data[11]===t[11]||Math.abs(this.data[11]-t[11])<=a)&&(this.data[12]===t[12]||Math.abs(this.data[12]-t[12])<=a)&&(this.data[13]===t[13]||Math.abs(this.data[13]-t[13])<=a)&&(this.data[14]===t[14]||Math.abs(this.data[14]-t[14])<=a)&&(this.data[15]===t[15]||Math.abs(this.data[15]-t[15])<=a)},i.ortho=function(t,a,s,h,d,n){var r=i.identity();return r.data[0]=2/(a-t),r.data[5]=2/(h-s),r.data[10]=-2/(n-d),r.data[12]=-((a+t)/(a-t)),r.data[13]=-((h+s)/(h-s)),r.data[14]=-((n+d)/(n-d)),r},i.perspective=function(t,a,s,h){var d=s*Math.tan(t*(Math.PI/360)),n=-d,r=n*a,e=-r,o=i.identity();return o.data[0]=2*s/(e-r),o.data[5]=2*s/(d-n),o.data[8]=(e+r)/(e-r),o.data[9]=(d+n)/(d-n),o.data[10]=-((h+s)/(h-s)),o.data[11]=-1,o.data[14]=-(2*(h*s)/(h-s)),o.data[15]=0,o},i.prototype.transpose=function(){return new i([this.data[0],this.data[4],this.data[8],this.data[12],this.data[1],this.data[5],this.data[9],this.data[13],this.data[2],this.data[6],this.data[10],this.data[14],this.data[3],this.data[7],this.data[11],this.data[15]])},i.prototype.inverse=function(){var t=new i([this.data[5]*this.data[10]*this.data[15]-this.data[5]*this.data[11]*this.data[14]-this.data[9]*this.data[6]*this.data[15]+this.data[9]*this.data[7]*this.data[14]+this.data[13]*this.data[6]*this.data[11]-this.data[13]*this.data[7]*this.data[10],-this.data[1]*this.data[10]*this.data[15]+this.data[1]*this.data[11]*this.data[14]+this.data[9]*this.data[2]*this.data[15]-this.data[9]*this.data[3]*this.data[14]-this.data[13]*this.data[2]*this.data[11]+this.data[13]*this.data[3]*this.data[10],this.data[1]*this.data[6]*this.data[15]-this.data[1]*this.data[7]*this.data[14]-this.data[5]*this.data[2]*this.data[15]+this.data[5]*this.data[3]*this.data[14]+this.data[13]*this.data[2]*this.data[7]-this.data[13]*this.data[3]*this.data[6],-this.data[1]*this.data[6]*this.data[11]+this.data[1]*this.data[7]*this.data[10]+this.data[5]*this.data[2]*this.data[11]-this.data[5]*this.data[3]*this.data[10]-this.data[9]*this.data[2]*this.data[7]+this.data[9]*this.data[3]*this.data[6],-this.data[4]*this.data[10]*this.data[15]+this.data[4]*this.data[11]*this.data[14]+this.data[8]*this.data[6]*this.data[15]-this.data[8]*this.data[7]*this.data[14]-this.data[12]*this.data[6]*this.data[11]+this.data[12]*this.data[7]*this.data[10],this.data[0]*this.data[10]*this.data[15]-this.data[0]*this.data[11]*this.data[14]-this.data[8]*this.data[2]*this.data[15]+this.data[8]*this.data[3]*this.data[14]+this.data[12]*this.data[2]*this.data[11]-this.data[12]*this.data[3]*this.data[10],-this.data[0]*this.data[6]*this.data[15]+this.data[0]*this.data[7]*this.data[14]+this.data[4]*this.data[2]*this.data[15]-this.data[4]*this.data[3]*this.data[14]-this.data[12]*this.data[2]*this.data[7]+this.data[12]*this.data[3]*this.data[6],this.data[0]*this.data[6]*this.data[11]-this.data[0]*this.data[7]*this.data[10]-this.data[4]*this.data[2]*this.data[11]+this.data[4]*this.data[3]*this.data[10]+this.data[8]*this.data[2]*this.data[7]-this.data[8]*this.data[3]*this.data[6],this.data[4]*this.data[9]*this.data[15]-this.data[4]*this.data[11]*this.data[13]-this.data[8]*this.data[5]*this.data[15]+this.data[8]*this.data[7]*this.data[13]+this.data[12]*this.data[5]*this.data[11]-this.data[12]*this.data[7]*this.data[9],-this.data[0]*this.data[9]*this.data[15]+this.data[0]*this.data[11]*this.data[13]+this.data[8]*this.data[1]*this.data[15]-this.data[8]*this.data[3]*this.data[13]-this.data[12]*this.data[1]*this.data[11]+this.data[12]*this.data[3]*this.data[9],this.data[0]*this.data[5]*this.data[15]-this.data[0]*this.data[7]*this.data[13]-this.data[4]*this.data[1]*this.data[15]+this.data[4]*this.data[3]*this.data[13]+this.data[12]*this.data[1]*this.data[7]-this.data[12]*this.data[3]*this.data[5],-this.data[0]*this.data[5]*this.data[11]+this.data[0]*this.data[7]*this.data[9]+this.data[4]*this.data[1]*this.data[11]-this.data[4]*this.data[3]*this.data[9]-this.data[8]*this.data[1]*this.data[7]+this.data[8]*this.data[3]*this.data[5],-this.data[4]*this.data[9]*this.data[14]+this.data[4]*this.data[10]*this.data[13]+this.data[8]*this.data[5]*this.data[14]-this.data[8]*this.data[6]*this.data[13]-this.data[12]*this.data[5]*this.data[10]+this.data[12]*this.data[6]*this.data[9],this.data[0]*this.data[9]*this.data[14]-this.data[0]*this.data[10]*this.data[13]-this.data[8]*this.data[1]*this.data[14]+this.data[8]*this.data[2]*this.data[13]+this.data[12]*this.data[1]*this.data[10]-this.data[12]*this.data[2]*this.data[9],-this.data[0]*this.data[5]*this.data[14]+this.data[0]*this.data[6]*this.data[13]+this.data[4]*this.data[1]*this.data[14]-this.data[4]*this.data[2]*this.data[13]-this.data[12]*this.data[1]*this.data[6]+this.data[12]*this.data[2]*this.data[5],this.data[0]*this.data[5]*this.data[10]-this.data[0]*this.data[6]*this.data[9]-this.data[4]*this.data[1]*this.data[10]+this.data[4]*this.data[2]*this.data[9]+this.data[8]*this.data[1]*this.data[6]-this.data[8]*this.data[2]*this.data[5]]),a=this.data[0]*t.data[0]+this.data[1]*t.data[4]+this.data[2]*t.data[8]+this.data[3]*t.data[12];return t.multScalar(1/a)},i.prototype.decompose=function(){var t=new s(this.col(0)),a=new s(this.col(1)),i=new s(this.col(2)),h=new s(this.col(3));return{left:t.normalize(),up:a.normalize(),forward:i.normalize(),origin:h,scale:new s(t.length(),a.length(),i.length())}},i.random=function(){var t=i.rotationRadians(360*Math.random(),s.random()),a=i.scale(10*Math.random()),h=i.translation(s.random());return h.multMat44(t.multMat44(a))},i.prototype.toString=function(){return this.data[0]+", "+this.data[4]+", "+this.data[8]+", "+this.data[12]+",\n"+this.data[1]+", "+this.data[5]+", "+this.data[9]+", "+this.data[13]+",\n"+this.data[2]+", "+this.data[6]+", "+this.data[10]+", "+this.data[14]+",\n"+this.data[3]+", "+this.data[7]+", "+this.data[11]+", "+this.data[15]},i.prototype.toArray=function(){return this.data.slice(0)},a.exports=i}()},{"./Epsilon":1,"./Vec3":8,"./Vec4":9}],4:[function(t,a,i){!function(){"use strict";function i(){switch(arguments.length){case 1:var t=arguments[0];void 0!==t.w?this.w=t.w:void 0!==t[0]?this.w=t[0]:this.w=1,this.x=t.x||t[1]||0,this.y=t.y||t[2]||0,this.z=t.z||t[3]||0;break;case 4:this.w=arguments[0],this.x=arguments[1],this.y=arguments[2],this.z=arguments[3];break;default:this.w=1,this.x=0,this.y=0,this.z=0}}var s=t("./Vec3"),h=t("./Mat33");i.identity=function(){return new i(1,0,0,0)},i.prototype.negate=function(){return new i(-this.w,-this.x,-this.y,-this.z)},i.prototype.multQuat=function(t){t=t instanceof Array?new i(t):t;var a=t.w*this.w-t.x*this.x-t.y*this.y-t.z*this.z,s=this.y*t.z-this.z*t.y+this.w*t.x+this.x*t.w,h=this.z*t.x-this.x*t.z+this.w*t.y+this.y*t.w,d=this.x*t.y-this.y*t.x+this.w*t.z+this.z*t.w;return new i(a,s,h,d)},i.prototype.rotate=function(t){t=t instanceof Array?new s(t):t;var a=new i(0,t.x,t.y,t.z),h=this.multQuat(a).multQuat(this.inverse());return new s(h.x,h.y,h.z)},i.prototype.matrix=function(){var t=this.x*this.x,a=this.y*this.y,i=this.z*this.z,s=this.x*this.y,d=this.x*this.z,n=this.x*this.w,r=this.y*this.z,e=this.y*this.w,o=this.z*this.w;return new h([1-2*a-2*i,2*s+2*o,2*d-2*e,2*s-2*o,1-2*t-2*i,2*r+2*n,2*d+2*e,2*r-2*n,1-2*t-2*a])},i.rotationDegrees=function(t,a){return i.rotationRadians(t*(Math.PI/180),a)},i.rotationRadians=function(t,a){a instanceof Array&&(a=new s(a)),a=a.normalize();var h=t>0?t%(2*Math.PI):t%(-2*Math.PI),d=Math.sin(h/2),n=Math.cos(h/2);return new i(n,a.x*d,a.y*d,a.z*d).normalize()},i.slerp=function(t,a,s){t instanceof Array&&(t=new i(t)),a instanceof Array&&(a=new i(a));var h=t.w*a.w+t.x*a.x+t.y*a.y+t.z*a.z;if(Math.abs(h)>=1)return new i(t.w,t.x,t.y,t.z);0>h&&(t=t.negate(),h=-h);var d=Math.acos(h),n=Math.sqrt(1-h*h),r=Math.sin((1-s)*d)/n,e=Math.sin(s*d)/n;return new i(t.w*r+a.w*e,t.x*r+a.x*e,t.y*r+a.y*e,t.z*r+a.z*e)},i.prototype.equals=function(t,a){var i=void 0!==t.w?t.w:t[0],s=void 0!==t.x?t.x:t[1],h=void 0!==t.y?t.y:t[2],d=void 0!==t.z?t.z:t[3];return a=void 0===a?0:a,(this.w===i||Math.abs(this.w-i)<=a)&&(this.x===s||Math.abs(this.x-s)<=a)&&(this.y===h||Math.abs(this.y-h)<=a)&&(this.z===d||Math.abs(this.z-d)<=a)},i.prototype.normalize=function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0!==t?new i(this.w/t,this.x/t,this.y/t,this.z/t):new i},i.prototype.conjugate=function(){return new i(this.w,-this.x,-this.y,-this.z)},i.prototype.inverse=function(){return this.conjugate()},i.random=function(){var t=s.random().normalize(),a=Math.random();return i.rotationRadians(a,t)},i.prototype.toString=function(){return this.x+", "+this.y+", "+this.z+", "+this.w},i.prototype.toArray=function(){return[this.w,this.x,this.y,this.z]},a.exports=i}()},{"./Mat33":2,"./Vec3":8}],5:[function(t,a,i){!function(){"use strict";function i(t){t=t||{},t.data instanceof Array?(t=t.decompose(),this.up=t.up,this.forward=t.forward,this.left=t.left,this.scale=t.scale,this.origin=t.origin||new s(0,0,0)):(this.up=t.up?new s(t.up).normalize():new s(0,1,0),this.forward=t.forward?new s(t.forward).normalize():new s(0,0,1),this.left=t.left?new s(t.left).normalize():this.up.cross(this.forward).normalize(),this.origin=t.origin?new s(t.origin):new s(0,0,0),"number"==typeof t.scale?this.scale=new s(t.scale,t.scale,t.scale):this.scale=t.scale?new s(t.scale):new s(1,1,1))}var s=t("./Vec3"),h=t("./Mat33"),d=t("./Mat44");i.identity=function(){return new i({forward:new s(0,0,1),up:new s(0,1,0),left:new s(1,0,0),origin:new s(0,0,0),scale:new s(1,1,1)})},i.prototype.rotateForwardTo=function(t){t=t instanceof Array?new s(t).normalize():t.normalize();var a=h.rotationFromTo(this.forward,t);return this.forward=t,this.up=a.multVec3(this.up).normalize(),this.left=a.multVec3(this.left).normalize(),this},i.prototype.rotateUpTo=function(t){t=t instanceof Array?new s(t).normalize():t.normalize();var a=h.rotationFromTo(this.up,t);return this.forward=a.multVec3(this.forward).normalize(),this.up=t,this.left=a.multVec3(this.left).normalize(),this},i.prototype.rotateLeftTo=function(t){t=t instanceof Array?new s(t).normalize():t.normalize();var a=h.rotationFromTo(this.left,t);return this.forward=a.multVec3(this.forward).normalize(),this.up=a.multVec3(this.up).normalize(),this.left=t,this},i.prototype.scaleMatrix=function(){return d.scale(this.scale)},i.prototype.rotationMatrix=function(){return new d([this.left.x,this.left.y,this.left.z,0,this.up.x,this.up.y,this.up.z,0,this.forward.x,this.forward.y,this.forward.z,0,0,0,0,1])},i.prototype.translationMatrix=function(){return d.translation(this.origin)},i.prototype.matrix=function(){return this.translationMatrix().multMat44(this.rotationMatrix()).multMat44(this.scaleMatrix())},i.prototype.inverseScaleMatrix=function(){return d.scale(new s(1/this.scale.x,1/this.scale.y,1/this.scale.z))},i.prototype.inverseRotationMatrix=function(){return new d([this.left.x,this.up.x,this.forward.x,0,this.left.y,this.up.y,this.forward.y,0,this.left.z,this.up.z,this.forward.z,0,0,0,0,1])},i.prototype.inverseTranslationMatrix=function(){return d.translation(this.origin.negate())},i.prototype.inverseMatrix=function(){return this.inverseScaleMatrix().multMat44(this.inverseRotationMatrix()).multMat44(this.inverseTranslationMatrix())},i.prototype.viewMatrix=function(){var t=this.origin.negate(),a=this.left.negate(),i=this.forward.negate();return new d([a.x,this.up.x,i.x,0,a.y,this.up.y,i.y,0,a.z,this.up.z,i.z,0,t.dot(a),t.dot(this.up),t.dot(i),1])},i.prototype.translateWorld=function(t){return this.origin=this.origin.add(t),this},i.prototype.translateLocal=function(t){return t instanceof Array&&(t=new s(t)),this.origin=this.origin.add(this.left.multScalar(t.x)).add(this.up.multScalar(t.y)).add(this.forward.multScalar(t.z)),this},i.prototype.rotateWorldDegrees=function(t,a){return this.rotateWorldRadians(t*Math.PI/180,a)},i.prototype.rotateWorldRadians=function(t,a){var i=h.rotationRadians(t,a);return this.up=i.multVec3(this.up),this.forward=i.multVec3(this.forward),this.left=i.multVec3(this.left),this},i.prototype.rotateLocalDegrees=function(t,a){return this.rotateWorldDegrees(t,this.rotationMatrix().multVec3(a))},i.prototype.rotateLocalRadians=function(t,a){return this.rotateWorldRadians(t,this.rotationMatrix().multVec3(a))},i.prototype.localToWorld=function(t,a,i,s){var h=new d;return a||(h=this.scaleMatrix().multMat44(h)),i||(h=this.rotationMatrix().multMat44(h)),s||(h=this.translationMatrix().multMat44(h)),h.multVec3(t)},i.prototype.worldToLocal=function(t,a,i,s){var h=new d;return s||(h=this.inverseTranslationMatrix().multMat44(h)),i||(h=this.inverseRotationMatrix().multMat44(h)),a||(h=this.inverseScaleMatrix().multMat44(h)),h.multVec3(t)},i.prototype.equals=function(t,a){return this.origin.equals(t.origin,a)&&this.forward.equals(t.forward,a)&&this.up.equals(t.up,a)&&this.left.equals(t.left,a)&&this.scale.equals(t.scale,a)},i.random=function(){return new i({origin:s.random(),scale:s.random()}).rotateForwardTo(s.random())},i.prototype.toString=function(){return this.matrix().toString()},a.exports=i}()},{"./Mat33":2,"./Mat44":3,"./Vec3":8}],6:[function(t,a,i){!function(){"use strict";function i(t,a,i){var s=a.sub(t),d=new h(i).sub(t).dot(s)/s.dot(s);return 0>d&&(d=0),d>1&&(d=1),t.add(s.multScalar(d))}function s(){switch(arguments.length){case 1:var t=arguments[0];this.a=new h(t[0]||t.a),this.b=new h(t[1]||t.b),this.c=new h(t[2]||t.c);break;case 3:this.a=new h(arguments[0]),this.b=new h(arguments[1]),this.c=new h(arguments[2]);break;default:this.a=new h(0,0,0),this.b=new h(1,0,0),this.c=new h(1,1,0)}}var h=t("./Vec3");s.prototype.radius=function(){var t=this.centroid(),a=this.a.sub(t).length(),i=this.b.sub(t).length(),s=this.c.sub(t).length();return Math.max(a,Math.max(i,s))},s.prototype.centroid=function(){return this.a.add(this.b).add(this.c).divScalar(3)},s.prototype.normal=function(){var t=this.b.sub(this.a),a=this.c.sub(this.a);return t.cross(a).normalize()},s.prototype.area=function(){var t=this.b.sub(this.a),a=this.c.sub(this.a);return t.cross(a).length()/2},s.prototype.isInside=function(t){var a=new h(t),i=this.a.sub(a),s=this.b.sub(a),d=this.c.sub(a),n=s.cross(d),r=d.cross(i);if(n.dot(r)<0)return!1;var e=i.cross(s);return!(n.dot(e)<0)},s.prototype.intersect=function(t,a,i,s){var d=new h(t),n=new h(a),r=this.normal(),e=n.dot(r);if(0===e)return!1;var o=this.a.sub(d).dot(r)/e;if(i&&0>o)return!1;if(s&&(o>0&&e>0||0>o&&0>e))return!1;var u=d.add(n.multScalar(o));return this.isInside(u)?{position:u,normal:r,t:o}:!1},s.prototype.closestPoint=function(t){var a=i(this.a,this.b,t),s=i(this.b,this.c,t),h=i(this.c,this.a,t),d=a.sub(t).lengthSquared(),n=s.sub(t).lengthSquared(),r=h.sub(t).lengthSquared();return n>d?r>d?a:h:r>n?s:h},s.random=function(){var t=h.random(),a=h.random(),i=h.random(),d=t.add(a).add(i).divScalar(3),n=t.sub(d),r=a.sub(d),e=i.sub(d),o=n.length(),u=r.length(),c=e.length(),y=Math.max(Math.max(o,u),c),f=1/y;return new s(n.multScalar(f),r.multScalar(f),e.multScalar(f))},s.prototype.equals=function(t,a){return a=void 0===a?0:a,this.a.equals(t.a,a)&&this.b.equals(t.b,a)&&this.c.equals(t.c,a)},s.prototype.toString=function(){return this.a.toString()+", "+this.b.toString()+", "+this.c.toString()},a.exports=s}()},{"./Vec3":8}],7:[function(t,a,i){!function(){"use strict";function i(){switch(arguments.length){case 1:var t=arguments[0];this.x=t.x||t[0]||0,this.y=t.y||t[1]||0;break;case 2:this.x=arguments[0],this.y=arguments[1];break;default:this.x=0,this.y=0}}var s=t("./Epsilon");i.prototype.negate=function(){return new i(-this.x,-this.y)},i.prototype.add=function(t){return t instanceof Array?new i(this.x+t[0],this.y+t[1]):new i(this.x+t.x,this.y+t.y)},i.prototype.sub=function(t){return t instanceof Array?new i(this.x-t[0],this.y-t[1]):new i(this.x-t.x,this.y-t.y)},i.prototype.multScalar=function(t){return new i(this.x*t,this.y*t);
},i.prototype.divScalar=function(t){return new i(this.x/t,this.y/t)},i.prototype.dot=function(t){return t instanceof Array?this.x*t[0]+this.y*t[1]:this.x*t.x+this.y*t.y},i.prototype.cross=function(t){return t instanceof Array?this.x*t[1]-this.y*t[0]:this.x*t.y-this.y*t.x},i.prototype.length=function(t){if(void 0===t){var a=this.dot(this);return Math.abs(a-1)<s?a:Math.sqrt(a)}return this.normalize().multScalar(t)},i.prototype.lengthSquared=function(){return this.dot(this)},i.prototype.equals=function(t,a){var i=void 0!==t.x?t.x:t[0],s=void 0!==t.y?t.y:t[1];return a=void 0===a?0:a,(this.x===i||Math.abs(this.x-i)<=a)&&(this.y===s||Math.abs(this.y-s)<=a)},i.prototype.normalize=function(){var t=this.length();return 0!==t?new i(this.x/t,this.y/t):new i},i.prototype.unsignedAngleRadians=function(t){var a=void 0!==t.x?t.x:t[0],i=void 0!==t.y?t.y:t[1],s=Math.atan2(i,a)-Math.atan2(this.y,this.x);return 0>s&&(s+=2*Math.PI),s},i.prototype.unsignedAngleDegrees=function(t){return this.unsignedAngleRadians(t)*(180/Math.PI)},i.random=function(){return new i(Math.random(),Math.random()).normalize()},i.prototype.toString=function(){return this.x+", "+this.y},i.prototype.toArray=function(){return[this.x,this.y]},a.exports=i}()},{"./Epsilon":1}],8:[function(t,a,i){!function(){"use strict";function i(){switch(arguments.length){case 1:var t=arguments[0];this.x=t.x||t[0]||0,this.y=t.y||t[1]||0,this.z=t.z||t[2]||0;break;case 3:this.x=arguments[0],this.y=arguments[1],this.z=arguments[2];break;default:this.x=0,this.y=0,this.z=0}}var s=t("./Epsilon");i.prototype.negate=function(){return new i(-this.x,-this.y,-this.z)},i.prototype.add=function(t){return t instanceof Array?new i(this.x+t[0],this.y+t[1],this.z+t[2]):new i(this.x+t.x,this.y+t.y,this.z+t.z)},i.prototype.sub=function(t){return t instanceof Array?new i(this.x-t[0],this.y-t[1],this.z-t[2]):new i(this.x-t.x,this.y-t.y,this.z-t.z)},i.prototype.multScalar=function(t){return new i(this.x*t,this.y*t,this.z*t)},i.prototype.divScalar=function(t){return new i(this.x/t,this.y/t,this.z/t)},i.prototype.dot=function(t){return t instanceof Array?this.x*t[0]+this.y*t[1]+this.z*t[2]:this.x*t.x+this.y*t.y+this.z*t.z},i.prototype.cross=function(t){return t instanceof Array?new i(this.y*t[2]-t[1]*this.z,-this.x*t[2]+t[0]*this.z,this.x*t[1]-t[0]*this.y):new i(this.y*t.z-t.y*this.z,-this.x*t.z+t.x*this.z,this.x*t.y-t.x*this.y)},i.prototype.length=function(t){if(void 0===t){var a=this.dot(this);return Math.abs(a-1)<s?a:Math.sqrt(a)}return this.normalize().multScalar(t)},i.prototype.lengthSquared=function(){return this.dot(this)},i.prototype.equals=function(t,a){var i=void 0!==t.x?t.x:t[0],s=void 0!==t.y?t.y:t[1],h=void 0!==t.z?t.z:t[2];return a=void 0===a?0:a,(this.x===i||Math.abs(this.x-i)<=a)&&(this.y===s||Math.abs(this.y-s)<=a)&&(this.z===h||Math.abs(this.z-h)<=a)},i.prototype.normalize=function(){var t=this.length();return 0!==t?new i(this.x/t,this.y/t,this.z/t):new i},i.prototype.projectOntoPlane=function(t){var a=this.dot(t);return this.sub(t.multScalar(a))},i.prototype.unsignedAngleRadians=function(t,a){var s=this,h=new i(t),d=s.cross(h),n=new i(a||d),r=s.projectOntoPlane(n).normalize(),e=h.projectOntoPlane(n).normalize(),o=r.dot(e),u=Math.atan2(r.cross(e).length(),o);return n.dot(d)<0&&(u=u>=.5*Math.PI?Math.PI+Math.PI-u:2*Math.PI-u),u},i.prototype.unsignedAngleDegrees=function(t,a){return this.unsignedAngleRadians(t,a)*(180/Math.PI)},i.random=function(){return new i(Math.random(),Math.random(),Math.random()).normalize()},i.prototype.toString=function(){return this.x+", "+this.y+", "+this.z},i.prototype.toArray=function(){return[this.x,this.y,this.z]},a.exports=i}()},{"./Epsilon":1}],9:[function(t,a,i){!function(){"use strict";function i(){switch(arguments.length){case 1:var t=arguments[0];this.x=t.x||t[0]||0,this.y=t.y||t[1]||0,this.z=t.z||t[2]||0,this.w=t.w||t[3]||0;break;case 4:this.x=arguments[0],this.y=arguments[1],this.z=arguments[2],this.w=arguments[3]||0;break;default:this.x=0,this.y=0,this.z=0,this.w=0}}var s=t("./Epsilon");i.prototype.negate=function(){return new i(-this.x,-this.y,-this.z,-this.w)},i.prototype.add=function(t){return t instanceof Array?new i(this.x+t[0],this.y+t[1],this.z+t[2],this.w+t[3]):new i(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)},i.prototype.sub=function(t){return t instanceof Array?new i(this.x-t[0],this.y-t[1],this.z-t[2],this.w-t[3]):new i(this.x-t.x,this.y-t.y,this.z-t.z,this.w-t.w)},i.prototype.multScalar=function(t){return new i(this.x*t,this.y*t,this.z*t,this.w*t)},i.prototype.divScalar=function(t){return new i(this.x/t,this.y/t,this.z/t,this.w/t)},i.prototype.dot=function(t){return t instanceof Array?this.x*t[0]+this.y*t[1]+this.z*t[2]+this.w*t[3]:this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},i.prototype.length=function(t){if(void 0===t){var a=this.dot(this);return Math.abs(a-1)<s?a:Math.sqrt(a)}return this.normalize().multScalar(t)},i.prototype.lengthSquared=function(){return this.dot(this)},i.prototype.equals=function(t,a){var i=void 0!==t.x?t.x:t[0],s=void 0!==t.y?t.y:t[1],h=void 0!==t.z?t.z:t[2],d=void 0!==t.w?t.w:t[3];return a=void 0===a?0:a,(this.x===i||Math.abs(this.x-i)<=a)&&(this.y===s||Math.abs(this.y-s)<=a)&&(this.z===h||Math.abs(this.z-h)<=a)&&(this.w===d||Math.abs(this.w-d)<=a)},i.prototype.normalize=function(){var t=this.length();return 0!==t?new i(this.x/t,this.y/t,this.z/t,this.w/t):new i},i.random=function(){return new i(Math.random(),Math.random(),Math.random(),Math.random()).normalize()},i.prototype.toString=function(){return this.x+", "+this.y+", "+this.z+", "+this.w},i.prototype.toArray=function(){return[this.x,this.y,this.z,this.w]},a.exports=i}()},{"./Epsilon":1}],10:[function(t,a,i){!function(){"use strict";a.exports={Mat33:t("./Mat33"),Mat44:t("./Mat44"),Vec2:t("./Vec2"),Vec3:t("./Vec3"),Vec4:t("./Vec4"),Quaternion:t("./Quaternion"),Transform:t("./Transform"),Triangle:t("./Triangle")}}()},{"./Mat33":2,"./Mat44":3,"./Quaternion":4,"./Transform":5,"./Triangle":6,"./Vec2":7,"./Vec3":8,"./Vec4":9}]},{},[10])(10)});